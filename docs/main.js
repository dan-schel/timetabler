"use strict";(()=>{var r={any:l,div:u,anchor:p,input:m,button:d,select:f,canvas:x};function l(n){let t=document.getElementById(n);if(t!=null)return t;throw new Error(`Element with id "#${n}" not found.`)}function i(n,t,e){let o=l(n);if(e(o))return o;throw new Error(`Element with id "#${n}" is not a "${t}".`)}function u(n){return i(n,"HTMLDivElement",t=>t instanceof HTMLDivElement)}function p(n){return i(n,"HTMLAnchorElement",t=>t instanceof HTMLAnchorElement)}function m(n){return i(n,"HTMLInputElement",t=>t instanceof HTMLInputElement)}function d(n){return i(n,"HTMLButtonElement",t=>t instanceof HTMLButtonElement)}function f(n){return i(n,"HTMLSelectElement",t=>t instanceof HTMLSelectElement)}function x(n){return i(n,"HTMLCanvasElement",t=>t instanceof HTMLCanvasElement)}var s=class{constructor(t){this.html=t,this.width=0,this.height=0,this.dpiRatio=1,this._ctx=(()=>{let e=t.canvas.getContext("2d");if(e==null)throw new Error("Cannot get canvas context");return e})(),this._css=(()=>({colorInk80:getComputedStyle(t.canvas).getPropertyValue("--color-ink-80")}))()}fitCanvas(){let t=this.html.canvasContainer.getBoundingClientRect();this.width=t.width,this.height=t.height;let e=this.html.canvas.getContext("2d");if(e==null)throw new Error("Cannot get canvas context");this.dpiRatio=v(e),this.html.canvas.style.width=`${this.width}px`,this.html.canvas.style.height=`${this.height}px`,this.html.canvas.width=this.width*this.dpiRatio,this.html.canvas.height=this.height*this.dpiRatio,this.draw()}draw(){this._ctx.save(),this._ctx.scale(this.dpiRatio,this.dpiRatio),this._ctx.font="1rem Atkinson Hyperlegible",this._ctx.fillStyle=this._css.colorInk80,this._ctx.fillText("Hello",this.width-52,this.height-16),this._ctx.restore()}};function v(n){var o,c;let t=(o=window.devicePixelRatio)!=null?o:1,e=(c=n.backingStorePixelRatio)!=null?c:1;return t/e}var a={controls:r.any("controls"),canvasContainer:r.div("canvas-container"),canvas:r.canvas("canvas"),mobileExpanderButton:r.button("mobile-expander-button")},h=new s(a);h.fitCanvas();window.addEventListener("resize",()=>h.fitCanvas());a.mobileExpanderButton.addEventListener("click",()=>{a.controls.classList.toggle("collapsed")});})();
